{"version":3,"file":"try-digit-only.js","sources":["ng://@try/digit-only/lib/digit-only.directive.ts","ng://@try/digit-only/lib/digit-only.module.ts","ng://@try/digit-only/try-digit-only.ts"],"sourcesContent":["import { Directive, ElementRef, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[digitOnly]'\n})\nexport class DigitOnlyDirective {\n  private navigationKeys = [\n    'Backspace',\n    'Delete',\n    'Tab',\n    'Escape',\n    'Enter',\n    'Home',\n    'End',\n    'ArrowLeft',\n    'ArrowRight',\n    'Clear',\n    'Copy',\n    'Paste'\n  ];\n  inputElement: HTMLElement;\n  constructor(public el: ElementRef) {\n    this.inputElement = el.nativeElement;\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(e: KeyboardEvent) {\n    if (\n      this.navigationKeys.indexOf(e.key) > -1 || // Allow: navigation keys: backspace, delete, arrows etc.\n      (e.key === 'a' && e.ctrlKey === true) || // Allow: Ctrl+A\n      (e.key === 'c' && e.ctrlKey === true) || // Allow: Ctrl+C\n      (e.key === 'v' && e.ctrlKey === true) || // Allow: Ctrl+V\n      (e.key === 'x' && e.ctrlKey === true) || // Allow: Ctrl+X\n      (e.key === 'a' && e.metaKey === true) || // Allow: Cmd+A (Mac)\n      (e.key === 'c' && e.metaKey === true) || // Allow: Cmd+C (Mac)\n      (e.key === 'v' && e.metaKey === true) || // Allow: Cmd+V (Mac)\n      (e.key === 'x' && e.metaKey === true) // Allow: Cmd+X (Mac)\n    ) {\n      // let it happen, don't do anything\n      return;\n    }\n    // Ensure that it is a number and stop the keypress\n    if (\n      // tslint:disable-next-line: deprecation\n      (e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)\n    ) {\n      e.preventDefault();\n    }\n  }\n\n  @HostListener('paste', ['$event'])\n  onPaste(event: ClipboardEvent) {\n    event.preventDefault();\n    const pastedInput: string = event.clipboardData\n      .getData('text/plain')\n      .replace(/\\D/g, ''); // get a digit-only string\n    document.execCommand('insertText', false, pastedInput);\n  }\n\n  @HostListener('drop', ['$event'])\n  onDrop(event: DragEvent) {\n    event.preventDefault();\n    const textData = event.dataTransfer.getData('text').replace(/\\D/g, '');\n    this.inputElement.focus();\n    document.execCommand('insertText', false, textData);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { DigitOnlyDirective } from './digit-only.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [DigitOnlyDirective],\n  exports: [DigitOnlyDirective]\n})\nexport class DigitOnlyModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {DigitOnlyDirective as Éµa} from './lib/digit-only.directive';"],"names":["tslib_1.__decorate"],"mappings":"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"}