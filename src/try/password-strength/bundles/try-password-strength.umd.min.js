!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@angular/material"),require("@angular/forms"),require("@angular/animations")):"function"==typeof define&&define.amd?define("@try/password-strength",["exports","@angular/common","@angular/core","@angular/material","@angular/forms","@angular/animations"],e):e(((t=t||self)["try"]=t["try"]||{},t["try"]["password-strength"]={}),t.ng.common,t.ng.core,t.ng.material,t.ng.forms,t.ng.animations)}(this,function(t,e,n,a,r,i){"use strict";function o(t,e,n,a){var r,i=arguments.length,o=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(i<3?r(o):i>3?r(e,n,o):r(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var p,l;!function(t){t.primary="primary",t.accent="accent",t.warn="warn"}(p||(p={})),function(t){t[t.at_least_eight_chars=0]="at_least_eight_chars",t[t.at_least_one_lower_case_char=1]="at_least_one_lower_case_char",t[t.at_least_one_upper_case_char=2]="at_least_one_upper_case_char",t[t.at_least_one_digit_char=3]="at_least_one_digit_char",t[t.at_least_one_special_char=4]="at_least_one_special_char"}(l||(l={}));var c=function(){function t(){this.validators=Object.keys(l).map(function(t){return l[t]}),this.enableLengthRule=!0,this.enableLowerCaseLetterRule=!0,this.enableUpperCaseLetterRule=!0,this.enableDigitRule=!0,this.enableSpecialCharRule=!0,this.min=8,this.max=30,this.onStrengthChanged=new n.EventEmitter,this.criteriaMap=new Map,this.passwordFormControl=new r.FormControl,this._strength=0}return t.prototype.ngOnInit=function(){this.setRulesAndValidators(),this.password&&this.calculatePasswordStrength()},t.prototype.ngOnChanges=function(t){t.externalError&&t.externalError.firstChange||t.password.isFirstChange()||(t.externalError&&t.externalError.currentValue?this._color=p.warn:t.password.previousValue!==t.password.currentValue||t.password.firstChange?this.password&&this.password.length>0?this.calculatePasswordStrength():this.reset():this.calculatePasswordStrength())},Object.defineProperty(t.prototype,"strength",{get:function(){return this._strength?this._strength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._strength<=20?p.warn:this._strength<=80?p.accent:p.primary},enumerable:!0,configurable:!0}),t.prototype._containAtLeastMinChars=function(){return this.containAtLeastMinChars=this.password.length>=this.min,this.containAtLeastMinChars},t.prototype._containAtLeastOneLowerCaseLetter=function(){return this.containAtLeastOneLowerCaseLetter=this.criteriaMap.get(l.at_least_one_lower_case_char).test(this.password),this.containAtLeastOneLowerCaseLetter},t.prototype._containAtLeastOneUpperCaseLetter=function(){return this.containAtLeastOneUpperCaseLetter=this.criteriaMap.get(l.at_least_one_upper_case_char).test(this.password),this.containAtLeastOneUpperCaseLetter},t.prototype._containAtLeastOneDigit=function(){return this.containAtLeastOneDigit=this.criteriaMap.get(l.at_least_one_digit_char).test(this.password),this.containAtLeastOneDigit},t.prototype._containAtLeastOneSpecialChar=function(){return this.containAtLeastOneSpecialChar=this.criteriaMap.get(l.at_least_one_special_char).test(this.password),this.containAtLeastOneSpecialChar},t.prototype.setRulesAndValidators=function(){var t=this;this.enableLengthRule&&this.criteriaMap.set(l.at_least_eight_chars,RegExp("^.{"+this.min+","+this.max+"$")),this.enableLowerCaseLetterRule&&this.criteriaMap.set(l.at_least_one_lower_case_char,RegExp(/^(?=.*?[a-z])/)),this.enableUpperCaseLetterRule&&this.criteriaMap.set(l.at_least_one_upper_case_char,RegExp(/^(?=.*?[A-Z])/)),this.enableDigitRule&&this.criteriaMap.set(l.at_least_one_digit_char,RegExp(/^(?=.*?[0-9])/)),this.enableSpecialCharRule&&this.criteriaMap.set(l.at_least_one_special_char,RegExp(/^(?=.*?[" !"#$%&'()*+,-.\/:;<=>?@[\]^_`{|}~"])/)),this.passwordFormControl.setValidators(r.Validators.pattern(this.criteriaMap.get(l.at_least_eight_chars))),this.validators.map(function(e){t.passwordFormControl.setValidators(r.Validators.pattern(t.criteriaMap.get(e)))})},t.prototype.calculatePasswordStrength=function(){var t=[],e=100/this.criteriaMap.size;t.push(!!this.enableLengthRule&&this._containAtLeastMinChars(),!!this.enableLowerCaseLetterRule&&this._containAtLeastOneLowerCaseLetter(),!!this.enableUpperCaseLetterRule&&this._containAtLeastOneUpperCaseLetter(),!!this.enableDigitRule&&this._containAtLeastOneDigit(),!!this.enableSpecialCharRule&&this._containAtLeastOneSpecialChar()),this._strength=t.filter(function(t){return t}).length*e,this.onStrengthChanged.emit(this.strength)},t.prototype.reset=function(){this._strength=0,this.containAtLeastMinChars=this.containAtLeastOneLowerCaseLetter=this.containAtLeastOneUpperCaseLetter=this.containAtLeastOneDigit=this.containAtLeastOneSpecialChar=!1},o([n.Input(),s("design:type",String)],t.prototype,"password",void 0),o([n.Input(),s("design:type",Array)],t.prototype,"validators",void 0),o([n.Input(),s("design:type",Boolean)],t.prototype,"externalError",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"enableLengthRule",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"enableLowerCaseLetterRule",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"enableUpperCaseLetterRule",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"enableDigitRule",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"enableSpecialCharRule",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"min",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"max",void 0),o([n.Output(),s("design:type",n.EventEmitter)],t.prototype,"onStrengthChanged",void 0),t=o([n.Component({selector:"mat-password-strength",exportAs:"matPasswordStrength",template:'<mat-progress-bar mode="determinate"\n                  [color]="color"\n                  [value]="strength">\n</mat-progress-bar>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,styles:[""]})],t)}(),d=i.animation(i.animate("{{ timing }}s {{ delay }}s",i.keyframes([i.style({transform:"translate3d(0, 0, 0)",offset:0}),i.style({transform:"translate3d(-10px, 0, 0)",offset:.1}),i.style({transform:"translate3d(10px, 0, 0)",offset:.2}),i.style({transform:"translate3d(-10px, 0, 0)",offset:.3}),i.style({transform:"translate3d(10px, 0, 0)",offset:.4}),i.style({transform:"translate3d(-10px, 0, 0)",offset:.5}),i.style({transform:"translate3d(10px, 0, 0)",offset:.6}),i.style({transform:"translate3d(-10px, 0, 0)",offset:.7}),i.style({transform:"translate3d(10px, 0, 0)",offset:.8}),i.style({transform:"translate3d(-10px, 0, 0)",offset:.9}),i.style({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}}),g=function(){function t(){this.enableScoreInfo=!1,this.lowerCaseCriteriaMsg="contains at least one lower character",this.upperCaseCriteriaMsg="contains at least one upper character",this.digitsCriteriaMsg="contains at least one digit character",this.specialCharsCriteriaMsg="contains at least one special character"}return t.prototype.ngOnInit=function(){this.minCharsCriteriaMsg||(this.minCharsCriteriaMsg="contains at least "+this.passwordComponent.min+" characters")},o([n.Input(),s("design:type",c)],t.prototype,"passwordComponent",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"enableScoreInfo",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"lowerCaseCriteriaMsg",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"upperCaseCriteriaMsg",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"digitsCriteriaMsg",void 0),o([n.Input(),s("design:type",Object)],t.prototype,"specialCharsCriteriaMsg",void 0),o([n.Input(),s("design:type",String)],t.prototype,"minCharsCriteriaMsg",void 0),t=o([n.Component({selector:"mat-password-strength-info",exportAs:"matPasswordStrengthInfo",template:'<mat-card @list>\n  <mat-card-content>\n    <div class="info-row" @items *ngIf="passwordComponent.enableLowerCaseLetterRule">\n      <div *ngIf="passwordComponent.containAtLeastOneLowerCaseLetter; then done else error" @flipY>\n      </div>\n      <ng-template #done>\n        <mat-icon @positiveState color="primary">done</mat-icon>\n      </ng-template>\n      <ng-template #error>\n        <mat-icon @negativeState color="warn">error</mat-icon>\n      </ng-template>\n      <div>\n        <p>{{lowerCaseCriteriaMsg}}</p>\n      </div>\n    </div>\n\n    <div class="info-row" @items *ngIf="passwordComponent.enableUpperCaseLetterRule">\n      <div *ngIf="passwordComponent.containAtLeastOneUpperCaseLetter; then done else error">\n      </div>\n      <ng-template #done>\n        <mat-icon @positiveState color="primary">done</mat-icon>\n      </ng-template>\n      <ng-template #error>\n        <mat-icon @negativeState color="warn">error</mat-icon>\n      </ng-template>\n      <div>\n        <p>{{upperCaseCriteriaMsg}}</p>\n      </div>\n    </div>\n\n    <div class="info-row" @items *ngIf="passwordComponent.enableDigitRule">\n      <div *ngIf="passwordComponent.containAtLeastOneDigit; then done else error">\n      </div>\n      <ng-template #done>\n        <mat-icon @positiveState color="primary">done</mat-icon>\n      </ng-template>\n      <ng-template #error>\n        <mat-icon @negativeState color="warn">error</mat-icon>\n      </ng-template>\n      <div>\n        <p>{{digitsCriteriaMsg}}</p>\n      </div>\n    </div>\n\n    <div class="info-row" @items *ngIf="passwordComponent.enableSpecialCharRule">\n      <div *ngIf="passwordComponent.containAtLeastOneSpecialChar; then done else error">\n      </div>\n      <ng-template #done>\n        <mat-icon @positiveState color="primary">done</mat-icon>\n      </ng-template>\n      <ng-template #error>\n        <mat-icon @negativeState color="warn">error</mat-icon>\n      </ng-template>\n      <div>\n        <p>{{specialCharsCriteriaMsg}}</p>\n      </div>\n    </div>\n\n    <div class="info-row" @items *ngIf="passwordComponent.enableLengthRule">\n      <div *ngIf="passwordComponent.containAtLeastMinChars; then done else error">\n      </div>\n      <ng-template #done>\n        <mat-icon @positiveState color="primary">done</mat-icon>\n      </ng-template>\n      <ng-template #error>\n        <mat-icon @negativeState color="warn">error</mat-icon>\n      </ng-template>\n      <div>\n        <p>{{minCharsCriteriaMsg}}</p>\n      </div>\n    </div>\n\n    <div *ngIf="enableScoreInfo" class="info-row" @items>\n      <div *ngIf="passwordComponent.strength === 100; then done else error">\n      </div>\n      <ng-template #done>\n        <mat-icon @positiveState color="primary">done</mat-icon>\n      </ng-template>\n      <ng-template #error>\n        <mat-icon @negativeState color="warn">error</mat-icon>\n      </ng-template>\n      <div>\n        <p>Password\'s strength = {{passwordComponent.strength}} %100</p>\n      </div>\n    </div>\n\n  </mat-card-content>\n</mat-card>\n',animations:[i.trigger("list",[i.transition(":enter",[i.query("@items",i.stagger(300,i.animateChild()))])]),i.trigger("items",[i.transition(":enter",[i.style({transform:"scale(0.5)",opacity:0}),i.animate("1s cubic-bezier(.8,-0.6,0.2,1.5)",i.style({transform:"scale(1)",opacity:1}))]),i.transition(":leave",[i.style({transform:"scale(1)",opacity:1,height:"*"}),i.animate("1s cubic-bezier(.8,-0.6,0.2,1.5)",i.style({transform:"scale(0.5)",opacity:0,height:"0px",margin:"0px"}))])]),i.trigger("positiveState",[i.transition(":enter",[i.style({"backface-visibility":"visible"}),i.animate("{{ timing }}s {{ delay }}s ease-in",i.keyframes([i.style({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),i.style({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),i.style({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),i.style({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),i.style({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0,rotateX:1,rotateY:0}})]),i.trigger("negativeState",[i.transition(":enter",i.useAnimation(d))])],styles:["mat-card{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;place-content:stretch center;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-flex:1;-ms-flex:1 1 0%;flex:1 1 0%}mat-card mat-card-content{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:100%;place-content:stretch flex-start;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}mat-card mat-card-content mat-icon{margin-right:10px}mat-card mat-card-content .info-row{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex}"]})],t)}(),h=function(){function t(){this._type="text"}return Object.defineProperty(t.prototype,"type",{get:function(){return this.isVisible?"text":"password"},enumerable:!0,configurable:!0}),o([n.Input(),s("design:type",Boolean)],t.prototype,"isVisible",void 0),t=o([n.Component({selector:"mat-pass-toggle-visibility",template:'<button (click)="isVisible = !isVisible"\n        class="mat-icon-button cdk-focused cdk-mouse-focused" mat-icon-button\n        matRippleCentered="true"\n        matRipple>\n  <mat-icon>{{isVisible ? \'visibility\' : \'visibility_off\' }}</mat-icon>\n</button>\n\n',encapsulation:n.ViewEncapsulation.None,styles:[""]})],t)}(),m=function(){function t(){}var r;return r=t,t.forRoot=function(){return{ngModule:r,providers:[]}},t=r=o([n.NgModule({imports:[e.CommonModule,a.MatProgressBarModule,a.MatCardModule,a.MatIconModule,a.MatRippleModule],exports:[c,g,h],declarations:[c,g,h],entryComponents:[h]})],t)}();t.MatPassToggleVisibilityComponent=h,t.MatPasswordStrengthComponent=c,t.MatPasswordStrengthInfoComponent=g,t.MatPasswordStrengthModule=m,t.ɵa=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=try-password-strength.umd.min.js.map