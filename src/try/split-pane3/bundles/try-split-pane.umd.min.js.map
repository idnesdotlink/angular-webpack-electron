{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@try/split-pane/lib/utils.ts","ng://@try/split-pane/lib/component/split.component.ts","ng://@try/split-pane/lib/directive/splitArea.directive.ts","ng://@try/split-pane/lib/module.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","n","m","Symbol","iterator","e","call","ar","next","done","push","value","error","__spread","concat","getPointFromEvent","event","changedTouches","undefined","x","clientX","y","clientY","getElementPixelSize","elRef","direction","rect","nativeElement","getBoundingClientRect","width","height","getInputBoolean","v","getInputPositiveNumber","defaultValue","Number","isNaN","isUserSizesValid","unit","sizes","total","reduce","s","every","filter","getAreaMinSize","a","size","component","lockSize","minSize","getAreaMaxSize","maxSize","getGutterSideAbsorptionCapacity","sideAreas","pixels","allAreasSizePixel","acc","area","res","areaSnapshot","pixelAbsorb","percentAfterAbsorption","sizePercentAtStart","pixelRemain","sizePixelAtStart","tempPercentSize","maxSizePixel","minSizePixel","getAreaAbsorptionCapacityPercent","containerSizePixel","tempPixelSize","getAreaAbsorptionCapacityPixel","getAreaAbsorptionCapacity","remain","list","updateAreaSize","item","SplitComponent","ngZone","cdRef","renderer","this","_direction","_unit","_gutterSize","_gutterStep","_restrictMove","_useTransition","_disabled","_dir","_gutterDblClickDuration","dragStart","EventEmitter","dragEnd","gutterClick","gutterDblClick","dragProgressSubject","Subject","dragProgress$","asObservable","isDragging","dragListeners","snapshot","startPoint","endPoint","displayedAreas","hidedAreas","_clickTimeout","prototype","addClass","removeClass","build","setAttribute","_this","Observable","subscriber","transitionEndSubscriber","pipe","debounceTime","ngAfterViewInit","runOutsideAngular","setTimeout","getNbGutters","addArea","newArea","order","visible","removeArea","some","find","splice","indexOf","updateArea","resetOrders","resetSizes","showArea","areas","_a","apply","hideArea","comp","forEach","getVisibleAreaSizes","map","setVisibleAreaSizes","formatedSizes","_size","stopDragging","sort","b","setStyleOrder","useUserSizes_1","defaultSize_1","wildcardSizeAreas","alreadyGotOne_1","refreshStyleSizes","markForCheck","setStyleFlex","sumGutterSize_1","gutterSize","clickGutter","gutterNum","tempPoint","window","clearTimeout","notify","gutterDblClickDuration","startDragging","gutterOrder","preventDefault","stopPropagation","disabled","lastSteppedOffset","allInvolvedAreasSizePercent","areasBeforeGutter","areasAfterGutter","restrictMove","unshift","tslib_1.__spread","t","listen","bind","dragEvent","lockEvents","gutterEls","toArray","offset","dir","steppedOffset","Math","round","gutterStep","areasBefore","areasAfter","abs","all","areaToReset_1","unlockEvents","fct","pop","type","emit","run","ngOnDestroy","tslib_1.__decorate","Input","Output","ViewChildren","QueryList","Component","selector","exportAs","changeDetection","ChangeDetectionStrategy","OnPush","template","NgZone","ElementRef","ChangeDetectorRef","Renderer2","SplitAreaDirective","split","_order","_minSize","_maxSize","_lockSize","_visible","lockListeners","ngOnInit","transitionListener","propertyName","setStyle","grow","shrink","basis","isMin","isMax","Directive","AngularSplitModule","forRoot","ngModule","AngularSplitModule_1","providers","forChild","NgModule","imports","CommonModule","declarations","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { ElementRef } from '@angular/core';\n\nimport { IArea, IPoint, IAreaSnapshot, ISplitSideAbsorptionCapacity, IAreaAbsorptionCapacity } from './interface';\n\nexport function getPointFromEvent(event: MouseEvent | TouchEvent): IPoint {\n  // TouchEvent\n  if ((<TouchEvent>event).changedTouches !== undefined && (<TouchEvent>event).changedTouches.length > 0) {\n    return {\n      x: (<TouchEvent>event).changedTouches[0].clientX,\n      y: (<TouchEvent>event).changedTouches[0].clientY,\n    };\n  }\n  // MouseEvent\n  else if ((<MouseEvent>event).clientX !== undefined && (<MouseEvent>event).clientY !== undefined) {\n    return {\n      x: (<MouseEvent>event).clientX,\n      y: (<MouseEvent>event).clientY,\n    };\n  }\n  return null;\n}\n\nexport function getElementPixelSize(elRef: ElementRef, direction: 'horizontal' | 'vertical'): number {\n  const rect = (<HTMLElement>elRef.nativeElement).getBoundingClientRect();\n\n  return (direction === 'horizontal') ? rect.width : rect.height;\n}\n\nexport function getInputBoolean(v: any): boolean {\n  return (typeof (v) === 'boolean') ? v : (v === 'false' ? false : true);\n}\n\nexport function getInputPositiveNumber<T>(v: any, defaultValue: T): number | T {\n  if (v === null || v === undefined) return defaultValue;\n\n  v = Number(v);\n  return !isNaN(v) && v >= 0 ? v : defaultValue;\n}\n\nexport function isUserSizesValid(unit: 'percent' | 'pixel', sizes: Array<number | null>): boolean {\n  // All sizes have to be not null and total should be 100\n  if (unit === 'percent') {\n    const total = sizes.reduce((total, s) => s !== null ? total + s : total, 0);\n    return sizes.every(s => s !== null) && total > 99.9 && total < 100.1;\n  }\n\n  // A size at null is mandatory but only one.\n  if (unit === 'pixel') {\n    return sizes.filter(s => s === null).length === 1;\n  }\n}\n\nexport function getAreaMinSize(a: IArea): null | number {\n  if (a.size === null) {\n    return null;\n  }\n\n  if (a.component.lockSize === true) {\n    return a.size;\n  }\n\n  if (a.component.minSize === null) {\n    return null;\n  }\n\n  if (a.component.minSize > a.size) {\n    return a.size;\n  }\n\n  return a.component.minSize;\n}\n\nexport function getAreaMaxSize(a: IArea): null | number {\n  if (a.size === null) {\n    return null;\n  }\n\n  if (a.component.lockSize === true) {\n    return a.size;\n  }\n\n  if (a.component.maxSize === null) {\n    return null;\n  }\n\n  if (a.component.maxSize < a.size) {\n    return a.size;\n  }\n\n  return a.component.maxSize;\n}\n\nexport function getGutterSideAbsorptionCapacity(unit: 'percent' | 'pixel', sideAreas: Array<IAreaSnapshot>, pixels: number, allAreasSizePixel: number): ISplitSideAbsorptionCapacity {\n  return sideAreas.reduce((acc, area) => {\n    const res = getAreaAbsorptionCapacity(unit, area, acc.remain, allAreasSizePixel);\n    acc.list.push(res);\n    acc.remain = res.pixelRemain;\n    return acc;\n  }, { remain: pixels, list: [] });\n}\n\nfunction getAreaAbsorptionCapacity(unit: 'percent' | 'pixel', areaSnapshot: IAreaSnapshot, pixels: number, allAreasSizePixel: number): IAreaAbsorptionCapacity {\n  // No pain no gain\n  if (pixels === 0) {\n    return {\n      areaSnapshot,\n      pixelAbsorb: 0,\n      percentAfterAbsorption: areaSnapshot.sizePercentAtStart,\n      pixelRemain: 0,\n    };\n  }\n\n  // Area start at zero and need to be reduced, not possible\n  if (areaSnapshot.sizePixelAtStart === 0 && pixels < 0) {\n    return {\n      areaSnapshot,\n      pixelAbsorb: 0,\n      percentAfterAbsorption: 0,\n      pixelRemain: pixels,\n    };\n  }\n\n  if (unit === 'percent') {\n    return getAreaAbsorptionCapacityPercent(areaSnapshot, pixels, allAreasSizePixel);\n  }\n\n  if (unit === 'pixel') {\n    return getAreaAbsorptionCapacityPixel(areaSnapshot, pixels, allAreasSizePixel);\n  }\n}\n\nfunction getAreaAbsorptionCapacityPercent(areaSnapshot: IAreaSnapshot, pixels: number, allAreasSizePixel: number): IAreaAbsorptionCapacity {\n  const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n  const tempPercentSize = tempPixelSize / allAreasSizePixel * 100;\n\n  // ENLARGE AREA\n\n  if (pixels > 0) {\n    // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n    if (areaSnapshot.area.maxSize !== null && tempPercentSize > areaSnapshot.area.maxSize) {\n      // Use area.area.maxSize as newPercentSize and return calculate pixels remaining\n      const maxSizePixel = areaSnapshot.area.maxSize / 100 * allAreasSizePixel;\n      return {\n        areaSnapshot,\n        pixelAbsorb: maxSizePixel,\n        percentAfterAbsorption: areaSnapshot.area.maxSize,\n        pixelRemain: areaSnapshot.sizePixelAtStart + pixels - maxSizePixel\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: tempPercentSize > 100 ? 100 : tempPercentSize,\n      pixelRemain: 0\n    };\n  }\n\n  // REDUCE AREA\n\n  else if (pixels < 0) {\n    // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n    if (areaSnapshot.area.minSize !== null && tempPercentSize < areaSnapshot.area.minSize) {\n      // Use area.area.minSize as newPercentSize and return calculate pixels remaining\n      const minSizePixel = areaSnapshot.area.minSize / 100 * allAreasSizePixel;\n      return {\n        areaSnapshot,\n        pixelAbsorb: minSizePixel,\n        percentAfterAbsorption: areaSnapshot.area.minSize,\n        pixelRemain: areaSnapshot.sizePixelAtStart + pixels - minSizePixel\n      };\n    }\n    // If reduced under zero > return remaining pixels\n    else if (tempPercentSize < 0) {\n      // Use 0 as newPercentSize and return calculate pixels remaining\n      return {\n        areaSnapshot,\n        pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: 0,\n        pixelRemain: pixels + areaSnapshot.sizePixelAtStart\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: tempPercentSize,\n      pixelRemain: 0\n    };\n  }\n}\n\nfunction getAreaAbsorptionCapacityPixel(areaSnapshot: IAreaSnapshot, pixels: number, containerSizePixel: number): IAreaAbsorptionCapacity {\n  const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n\n  // ENLARGE AREA\n\n  if (pixels > 0) {\n    // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n    if (areaSnapshot.area.maxSize !== null && tempPixelSize > areaSnapshot.area.maxSize) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: areaSnapshot.area.maxSize - areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: -1,\n        pixelRemain: tempPixelSize - areaSnapshot.area.maxSize\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: -1,\n      pixelRemain: 0\n    };\n  }\n\n  // REDUCE AREA\n\n  else if (pixels < 0) {\n    // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n    if (areaSnapshot.area.minSize !== null && tempPixelSize < areaSnapshot.area.minSize) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: areaSnapshot.area.minSize + pixels - tempPixelSize,\n        percentAfterAbsorption: -1,\n        pixelRemain: tempPixelSize - areaSnapshot.area.minSize\n      };\n    }\n    // If reduced under zero > return remaining pixels\n    else if (tempPixelSize < 0) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: -1,\n        pixelRemain: pixels + areaSnapshot.sizePixelAtStart\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: -1,\n      pixelRemain: 0\n    };\n  }\n}\n\nexport function updateAreaSize(unit: 'percent' | 'pixel', item: IAreaAbsorptionCapacity) {\n\n  if (unit === 'percent') {\n    item.areaSnapshot.area.size = item.percentAfterAbsorption;\n  }\n  else if (unit === 'pixel') {\n    // Update size except for the wildcard size area\n    if (item.areaSnapshot.area.size !== null) {\n      item.areaSnapshot.area.size = item.areaSnapshot.sizePixelAtStart + item.pixelAbsorb;\n    }\n  }\n}\n","import { Component, Input, Output, ChangeDetectionStrategy, ChangeDetectorRef, Renderer2, AfterViewInit, OnDestroy, ElementRef, NgZone, ViewChildren, QueryList, EventEmitter } from '@angular/core';\nimport { Observable, Subscriber, Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { IArea, IPoint, ISplitSnapshot, IAreaSnapshot, IOutputData, IOutputAreaSizes } from '../interface';\nimport { SplitAreaDirective } from '../directive/splitArea.directive';\nimport { getInputPositiveNumber, getInputBoolean, isUserSizesValid, getAreaMinSize, getAreaMaxSize, getPointFromEvent, getElementPixelSize, getGutterSideAbsorptionCapacity, updateAreaSize } from '../utils';\n\n/**\n * angular-split\n *\n *\n *  PERCENT MODE ([unit]=\"'percent'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |       20                 30                 20                 15                 15      | <-- [size]=\"x\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |calc(20% - 8px)    calc(30% - 12px)   calc(20% - 8px)    calc(15% - 6px)    calc(15% - 6px)| <-- CSS flex-basis property (with flex-grow&shrink at 0)\n * |     152px              228px              152px              114px              114px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *  flex-basis = calc( { area.size }% - { area.size/100 * nbGutter*gutterSize }px );\n *\n *\n *  PIXEL MODE ([unit]=\"'pixel'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |      100                250                 *                 150                100      | <-- [size]=\"y\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |   0 0 100px          0 0 250px           1 1 auto          0 0 150px          0 0 100px   | <-- CSS flex property (flex-grow/flex-shrink/flex-basis)\n * |     100px              250px              200px              150px              100px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *\n */\n\n@Component({\n  selector: 'as-split',\n  exportAs: 'asSplit',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: [`./split.component.scss`],\n  template: `\n        <ng-content></ng-content>\n        <ng-template ngFor [ngForOf]=\"displayedAreas\" let-index=\"index\" let-last=\"last\">\n            <div\n              *ngIf=\"last === false\"\n              #gutterEls\n              class=\"as-split-gutter\"\n              [style.flex-basis.px]=\"gutterSize\"\n              [style.order]=\"index*2+1\"\n              (mousedown)=\"startDragging($event, index*2+1, index+1)\"\n              (touchstart)=\"startDragging($event, index*2+1, index+1)\"\n              (mouseup)=\"clickGutter($event, index+1)\"\n                (touchend)=\"clickGutter($event, index+1)\">\n                <div class=\"as-split-gutter-icon\"></div>\n            </div>\n        </ng-template>`,\n})\nexport class SplitComponent implements AfterViewInit, OnDestroy {\n\n  private _direction: 'horizontal' | 'vertical' = 'horizontal';\n\n  @Input() set direction(v: 'horizontal' | 'vertical') {\n    this._direction = (v === 'vertical') ? 'vertical' : 'horizontal';\n\n    this.renderer.addClass(this.elRef.nativeElement, `as-${this._direction}`);\n    this.renderer.removeClass(this.elRef.nativeElement, `as-${(this._direction === 'vertical') ? 'horizontal' : 'vertical'}`);\n\n    this.build(false, false);\n  }\n\n  get direction(): 'horizontal' | 'vertical' {\n    return this._direction;\n  }\n\n  ////\n\n  private _unit: 'percent' | 'pixel' = 'percent';\n\n  @Input() set unit(v: 'percent' | 'pixel') {\n    this._unit = (v === 'pixel') ? 'pixel' : 'percent';\n\n    this.renderer.addClass(this.elRef.nativeElement, `as-${this._unit}`);\n    this.renderer.removeClass(this.elRef.nativeElement, `as-${(this._unit === 'pixel') ? 'percent' : 'pixel'}`);\n\n    this.build(false, true);\n  }\n\n  get unit(): 'percent' | 'pixel' {\n    return this._unit;\n  }\n\n  ////\n\n  private _gutterSize: number = 11;\n\n  @Input() set gutterSize(v: number | null) {\n    this._gutterSize = getInputPositiveNumber(v, 11);\n\n    this.build(false, false);\n  }\n\n  get gutterSize(): number | null {\n    return this._gutterSize;\n  }\n\n  ////\n\n  private _gutterStep: number = 1;\n\n  @Input() set gutterStep(v: number) {\n    this._gutterStep = getInputPositiveNumber(v, 1);\n  }\n\n  get gutterStep(): number {\n    return this._gutterStep;\n  }\n\n  ////\n\n  private _restrictMove: boolean = false;\n\n  @Input() set restrictMove(v: boolean) {\n    this._restrictMove = getInputBoolean(v);\n  }\n\n  get restrictMove(): boolean {\n    return this._restrictMove;\n  }\n\n  ////\n\n  private _useTransition: boolean = false;\n\n  @Input() set useTransition(v: boolean) {\n    this._useTransition = getInputBoolean(v);\n\n    if (this._useTransition) this.renderer.addClass(this.elRef.nativeElement, 'as-transition');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-transition');\n  }\n\n  get useTransition(): boolean {\n    return this._useTransition;\n  }\n\n  ////\n\n  private _disabled: boolean = false;\n\n  @Input() set disabled(v: boolean) {\n    this._disabled = getInputBoolean(v);\n\n    if (this._disabled) this.renderer.addClass(this.elRef.nativeElement, 'as-disabled');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-disabled');\n  }\n\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  ////\n\n  private _dir: 'ltr' | 'rtl' = 'ltr';\n\n  @Input() set dir(v: 'ltr' | 'rtl') {\n    this._dir = (v === 'rtl') ? 'rtl' : 'ltr';\n\n    this.renderer.setAttribute(this.elRef.nativeElement, 'dir', this._dir);\n  }\n\n  get dir(): 'ltr' | 'rtl' {\n    return this._dir;\n  }\n\n  ////\n\n  private _gutterDblClickDuration: number = 0;\n\n  @Input() set gutterDblClickDuration(v: number) {\n    this._gutterDblClickDuration = getInputPositiveNumber(v, 0);\n  }\n\n  get gutterDblClickDuration(): number {\n    return this._gutterDblClickDuration;\n  }\n\n  ////\n\n  @Output() dragStart = new EventEmitter<IOutputData>(false)\n  @Output() dragEnd = new EventEmitter<IOutputData>(false)\n  @Output() gutterClick = new EventEmitter<IOutputData>(false)\n  @Output() gutterDblClick = new EventEmitter<IOutputData>(false)\n\n  private transitionEndSubscriber: Subscriber<IOutputAreaSizes>\n  @Output() get transitionEnd(): Observable<IOutputAreaSizes> {\n    return new Observable(subscriber => this.transitionEndSubscriber = subscriber).pipe(\n      debounceTime<IOutputAreaSizes>(20)\n    );\n  }\n\n  private dragProgressSubject: Subject<IOutputData> = new Subject();\n  dragProgress$: Observable<IOutputData> = this.dragProgressSubject.asObservable();\n\n  ////\n\n  private isDragging: boolean = false;\n  private dragListeners: Array<Function> = [];\n  private snapshot: ISplitSnapshot | null = null;\n  private startPoint: IPoint | null = null;\n  private endPoint: IPoint | null = null;\n\n  public readonly displayedAreas: Array<IArea> = [];\n  private readonly hidedAreas: Array<IArea> = [];\n\n  @ViewChildren('gutterEls') private gutterEls: QueryList<ElementRef>;\n\n  constructor(private ngZone: NgZone,\n    private elRef: ElementRef,\n    private cdRef: ChangeDetectorRef,\n    private renderer: Renderer2) {\n    // To force adding default class, could be override by user @Input() or not\n    this.direction = this._direction;\n  }\n\n  public ngAfterViewInit() {\n    this.ngZone.runOutsideAngular(() => {\n      // To avoid transition at first rendering\n      setTimeout(() => this.renderer.addClass(this.elRef.nativeElement, 'as-init'));\n    });\n  }\n\n  private getNbGutters(): number {\n    return (this.displayedAreas.length === 0) ? 0 : this.displayedAreas.length - 1;\n  }\n\n  public addArea(component: SplitAreaDirective): void {\n    const newArea: IArea = {\n      component,\n      order: 0,\n      size: 0,\n      minSize: null,\n      maxSize: null,\n    };\n\n    if (component.visible === true) {\n      this.displayedAreas.push(newArea);\n\n      this.build(true, true);\n    }\n    else {\n      this.hidedAreas.push(newArea);\n    }\n  }\n\n  public removeArea(component: SplitAreaDirective): void {\n    if (this.displayedAreas.some(a => a.component === component)) {\n      const area = this.displayedAreas.find(a => a.component === component);\n      this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n\n      this.build(true, true);\n    }\n    else if (this.hidedAreas.some(a => a.component === component)) {\n      const area = this.hidedAreas.find(a => a.component === component);\n      this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n    }\n  }\n\n  public updateArea(component: SplitAreaDirective, resetOrders: boolean, resetSizes: boolean): void {\n    if (component.visible === true) {\n      this.build(resetOrders, resetSizes);\n    }\n  }\n\n  public showArea(component: SplitAreaDirective): void {\n    const area = this.hidedAreas.find(a => a.component === component);\n    if (area === undefined) {\n      return;\n    }\n\n    const areas = this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n    this.displayedAreas.push(...areas);\n\n    this.build(true, true);\n  }\n\n  public hideArea(comp: SplitAreaDirective): void {\n    const area = this.displayedAreas.find(a => a.component === comp);\n    if (area === undefined) {\n      return;\n    }\n\n    const areas = this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n    areas.forEach(area => {\n      area.order = 0;\n      area.size = 0;\n    })\n    this.hidedAreas.push(...areas);\n\n    this.build(true, true);\n  }\n\n  public getVisibleAreaSizes(): IOutputAreaSizes {\n    return this.displayedAreas.map(a => a.size === null ? '*' : a.size);\n  }\n\n  public setVisibleAreaSizes(sizes: IOutputAreaSizes): boolean {\n    if (sizes.length !== this.displayedAreas.length) {\n      return false;\n    }\n\n    const formatedSizes = sizes.map(s => getInputPositiveNumber(s, null));\n    const isValid = isUserSizesValid(this.unit, formatedSizes);\n\n    if (isValid === false) {\n      return false;\n    }\n\n    // @ts-ignore\n    this.displayedAreas.forEach((area, i) => area.component._size = formatedSizes[i]);\n\n    this.build(false, true);\n    return true;\n  }\n\n  private build(resetOrders: boolean, resetSizes: boolean): void {\n    this.stopDragging();\n\n    // Â¤ AREAS ORDER\n\n    if (resetOrders === true) {\n\n      // If user provided 'order' for each area, use it to sort them.\n      if (this.displayedAreas.every(a => a.component.order !== null)) {\n        this.displayedAreas.sort((a, b) => (<number>a.component.order) - (<number>b.component.order));\n      }\n\n      // Then set real order with multiples of 2, numbers between will be used by gutters.\n      this.displayedAreas.forEach((area, i) => {\n        area.order = i * 2;\n        area.component.setStyleOrder(area.order);\n      });\n    }\n\n    // Â¤ AREAS SIZE\n\n    if (resetSizes === true) {\n      const useUserSizes = isUserSizesValid(this.unit, this.displayedAreas.map(a => a.component.size));\n\n      switch (this.unit) {\n        case 'percent': {\n          const defaultSize = 100 / this.displayedAreas.length;\n\n          this.displayedAreas.forEach(area => {\n            area.size = useUserSizes ? <number>area.component.size : defaultSize;\n            area.minSize = getAreaMinSize(area);\n            area.maxSize = getAreaMaxSize(area);\n          });\n          break;\n        }\n        case 'pixel': {\n          if (useUserSizes) {\n            this.displayedAreas.forEach(area => {\n              area.size = area.component.size;\n              area.minSize = getAreaMinSize(area);\n              area.maxSize = getAreaMaxSize(area);\n            });\n          }\n          else {\n            const wildcardSizeAreas = this.displayedAreas.filter(a => a.component.size === null);\n\n            // No wildcard area > Need to select one arbitrarily > first\n            if (wildcardSizeAreas.length === 0 && this.displayedAreas.length > 0) {\n\n              this.displayedAreas.forEach((area, i) => {\n                area.size = (i === 0) ? null : area.component.size;\n                area.minSize = (i === 0) ? null : getAreaMinSize(area);\n                area.maxSize = (i === 0) ? null : getAreaMaxSize(area);\n              });\n            }\n            // More than one wildcard area > Need to keep only one arbitrarly > first\n            else if (wildcardSizeAreas.length > 1) {\n\n              let alreadyGotOne = false;\n              this.displayedAreas.forEach(area => {\n                if (area.component.size === null) {\n                  if (alreadyGotOne === false) {\n                    area.size = null;\n                    area.minSize = null;\n                    area.maxSize = null;\n                    alreadyGotOne = true;\n                  }\n                  else {\n                    area.size = 100;\n                    area.minSize = null;\n                    area.maxSize = null;\n                  }\n                }\n                else {\n                  area.size = area.component.size;\n                  area.minSize = getAreaMinSize(area);\n                  area.maxSize = getAreaMaxSize(area);\n                }\n              });\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    this.refreshStyleSizes();\n    this.cdRef.markForCheck();\n  }\n\n  private refreshStyleSizes(): void {\n    ///////////////////////////////////////////\n    // PERCENT MODE\n    if (this.unit === 'percent') {\n      // Only one area > flex-basis 100%\n      if (this.displayedAreas.length === 1) {\n        this.displayedAreas[0].component.setStyleFlex(0, 0, `100%`, false, false);\n      }\n      // Multiple areas > use each percent basis\n      else {\n        const sumGutterSize = this.getNbGutters() * this.gutterSize;\n\n        this.displayedAreas.forEach(area => {\n          area.component.setStyleFlex(\n            0, 0, `calc( ${area.size}% - ${<number>area.size / 100 * sumGutterSize}px )`,\n            (area.minSize !== null && area.minSize === area.size) ? true : false,\n            (area.maxSize !== null && area.maxSize === area.size) ? true : false,\n          );\n        });\n      }\n    }\n    ///////////////////////////////////////////\n    // PIXEL MODE\n    else if (this.unit === 'pixel') {\n      this.displayedAreas.forEach(area => {\n        // Area with wildcard size\n        if (area.size === null) {\n          if (this.displayedAreas.length === 1) {\n            area.component.setStyleFlex(1, 1, `100%`, false, false);\n          }\n          else {\n            area.component.setStyleFlex(1, 1, `auto`, false, false);\n          }\n        }\n        // Area with pixel size\n        else {\n          // Only one area > flex-basis 100%\n          if (this.displayedAreas.length === 1) {\n            area.component.setStyleFlex(0, 0, `100%`, false, false);\n          }\n          // Multiple areas > use each pixel basis\n          else {\n            area.component.setStyleFlex(\n              0, 0, `${area.size}px`,\n              (area.minSize !== null && area.minSize === area.size) ? true : false,\n              (area.maxSize !== null && area.maxSize === area.size) ? true : false,\n            );\n          }\n        }\n      });\n    }\n  }\n\n  _clickTimeout: number | null = null\n\n  public clickGutter(event: MouseEvent | TouchEvent, gutterNum: number): void {\n    const tempPoint = getPointFromEvent(event);\n\n    // Be sure mouseup/touchend happened at same point as mousedown/touchstart to trigger click/dblclick\n    if (this.startPoint && this.startPoint.x === tempPoint.x && this.startPoint.y === tempPoint.y) {\n\n      // If timeout in progress and new click > clearTimeout & dblClickEvent\n      if (this._clickTimeout !== null) {\n        window.clearTimeout(this._clickTimeout);\n        this._clickTimeout = null;\n        this.notify('dblclick', gutterNum);\n        this.stopDragging();\n      }\n      // Else start timeout to call clickEvent at end\n      else {\n        this._clickTimeout = window.setTimeout(() => {\n          this._clickTimeout = null;\n          this.notify('click', gutterNum);\n          this.stopDragging();\n        }, this.gutterDblClickDuration);\n      }\n    }\n  }\n\n  public startDragging(event: MouseEvent | TouchEvent, gutterOrder: number, gutterNum: number): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.startPoint = getPointFromEvent(event);\n    if (this.startPoint === null || this.disabled === true) {\n      return;\n    }\n\n    this.snapshot = {\n      gutterNum,\n      lastSteppedOffset: 0,\n      allAreasSizePixel: getElementPixelSize(this.elRef, this.direction) - this.getNbGutters() * this.gutterSize,\n      allInvolvedAreasSizePercent: 100,\n      areasBeforeGutter: [],\n      areasAfterGutter: [],\n    };\n\n    this.displayedAreas.forEach(area => {\n      const areaSnapshot: IAreaSnapshot = {\n        area,\n        sizePixelAtStart: getElementPixelSize(area.component.elRef, this.direction),\n        sizePercentAtStart: (this.unit === 'percent') ? area.size : -1 // If pixel mode, anyway, will not be used.\n      };\n\n      if (area.order < gutterOrder) {\n        if (this.restrictMove === true) {\n          this.snapshot.areasBeforeGutter = [areaSnapshot];\n        }\n        else {\n          this.snapshot.areasBeforeGutter.unshift(areaSnapshot);\n        }\n      }\n      else if (area.order > gutterOrder) {\n        if (this.restrictMove === true) {\n          if (this.snapshot.areasAfterGutter.length === 0) this.snapshot.areasAfterGutter = [areaSnapshot];\n        }\n        else {\n          this.snapshot.areasAfterGutter.push(areaSnapshot);\n        }\n      }\n    });\n\n    this.snapshot.allInvolvedAreasSizePercent = [...this.snapshot.areasBeforeGutter, ...this.snapshot.areasAfterGutter].reduce((t, a) => t + a.sizePercentAtStart, 0);\n\n    if (this.snapshot.areasBeforeGutter.length === 0 || this.snapshot.areasAfterGutter.length === 0) {\n      return;\n    }\n\n    this.dragListeners.push(this.renderer.listen('document', 'mouseup', this.stopDragging.bind(this)));\n    this.dragListeners.push(this.renderer.listen('document', 'touchend', this.stopDragging.bind(this)));\n    this.dragListeners.push(this.renderer.listen('document', 'touchcancel', this.stopDragging.bind(this)));\n\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mousemove', this.dragEvent.bind(this)));\n      this.dragListeners.push(this.renderer.listen('document', 'touchmove', this.dragEvent.bind(this)));\n    });\n\n    this.displayedAreas.forEach(area => area.component.lockEvents());\n\n    this.isDragging = true;\n    this.renderer.addClass(this.elRef.nativeElement, 'as-dragging');\n    this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged');\n\n    this.notify('start', this.snapshot.gutterNum);\n  }\n\n  private dragEvent(event: MouseEvent | TouchEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this._clickTimeout !== null) {\n      window.clearTimeout(this._clickTimeout);\n      this._clickTimeout = null;\n    }\n\n    if (this.isDragging === false) {\n      return;\n    }\n\n    this.endPoint = getPointFromEvent(event);\n    if (this.endPoint === null) {\n      return;\n    }\n\n    // Calculate steppedOffset\n\n    let offset = (this.direction === 'horizontal') ? (this.startPoint.x - this.endPoint.x) : (this.startPoint.y - this.endPoint.y);\n    if (this.dir === 'rtl') {\n      offset = -offset;\n    }\n    const steppedOffset = Math.round(offset / this.gutterStep) * this.gutterStep;\n\n    if (steppedOffset === this.snapshot.lastSteppedOffset) {\n      return;\n    }\n\n    this.snapshot.lastSteppedOffset = steppedOffset;\n\n    // Need to know if each gutter side areas could reacts to steppedOffset\n\n    let areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -steppedOffset, this.snapshot.allAreasSizePixel);\n    let areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset, this.snapshot.allAreasSizePixel);\n\n    // Each gutter side areas can't absorb all offset\n    if (areasBefore.remain !== 0 && areasAfter.remain !== 0) {\n      if (Math.abs(areasBefore.remain) === Math.abs(areasAfter.remain)) {\n      }\n      else if (Math.abs(areasBefore.remain) > Math.abs(areasAfter.remain)) {\n        areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset + areasBefore.remain, this.snapshot.allAreasSizePixel);\n      }\n      else {\n        areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -(steppedOffset - areasAfter.remain), this.snapshot.allAreasSizePixel);\n      }\n    }\n    // Areas before gutter can't absorbs all offset > need to recalculate sizes for areas after gutter.\n    else if (areasBefore.remain !== 0) {\n      areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset + areasBefore.remain, this.snapshot.allAreasSizePixel);\n    }\n    // Areas after gutter can't absorbs all offset > need to recalculate sizes for areas before gutter.\n    else if (areasAfter.remain !== 0) {\n      areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -(steppedOffset - areasAfter.remain), this.snapshot.allAreasSizePixel);\n    }\n\n    if (this.unit === 'percent') {\n      // Hack because of browser messing up with sizes using calc(X% - Ypx) -> el.getBoundingClientRect()\n      // If not there, playing with gutters makes total going down to 99.99875% then 99.99286%, 99.98986%,..\n      const all = [...areasBefore.list, ...areasAfter.list];\n      const areaToReset = all.find(a => a.percentAfterAbsorption !== 0 && a.percentAfterAbsorption !== a.areaSnapshot.area.minSize && a.percentAfterAbsorption !== a.areaSnapshot.area.maxSize)\n\n      if (areaToReset) {\n        areaToReset.percentAfterAbsorption = this.snapshot.allInvolvedAreasSizePercent - all.filter(a => a !== areaToReset).reduce((total, a) => total + a.percentAfterAbsorption, 0);\n      }\n    }\n\n    // Now we know areas could absorb steppedOffset, time to really update sizes\n\n    areasBefore.list.forEach(item => updateAreaSize(this.unit, item));\n    areasAfter.list.forEach(item => updateAreaSize(this.unit, item));\n\n    this.refreshStyleSizes();\n    this.notify('progress', this.snapshot.gutterNum);\n  }\n\n  private stopDragging(event?: Event): void {\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    if (this.isDragging === false) {\n      return;\n    }\n\n    this.displayedAreas.forEach(area => area.component.unlockEvents());\n\n    while (this.dragListeners.length > 0) {\n      const fct = this.dragListeners.pop();\n      if (fct) fct();\n    }\n\n    // Warning: Have to be before \"notify('end')\"\n    // because \"notify('end')\"\" can be linked to \"[size]='x'\" > \"build()\" > \"stopDragging()\"\n    this.isDragging = false;\n\n    // If moved from starting point, notify end\n    if (this.endPoint && (this.startPoint.x !== this.endPoint.x || this.startPoint.y !== this.endPoint.y)) {\n      this.notify('end', this.snapshot.gutterNum);\n    }\n\n    this.renderer.removeClass(this.elRef.nativeElement, 'as-dragging');\n    this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged');\n    this.snapshot = null;\n\n    // Needed to let (click)=\"clickGutter(...)\" event run and verify if mouse moved or not\n    this.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.startPoint = null;\n        this.endPoint = null;\n      })\n    });\n  }\n\n  public notify(type: 'start' | 'progress' | 'end' | 'click' | 'dblclick' | 'transitionEnd', gutterNum: number): void {\n    const sizes = this.getVisibleAreaSizes();\n\n    if (type === 'start') {\n      this.dragStart.emit({ gutterNum, sizes });\n    }\n    else if (type === 'end') {\n      this.dragEnd.emit({ gutterNum, sizes });\n    }\n    else if (type === 'click') {\n      this.gutterClick.emit({ gutterNum, sizes });\n    }\n    else if (type === 'dblclick') {\n      this.gutterDblClick.emit({ gutterNum, sizes });\n    }\n    else if (type === 'transitionEnd') {\n      if (this.transitionEndSubscriber) {\n        this.ngZone.run(() => this.transitionEndSubscriber.next(sizes));\n      }\n    }\n    else if (type === 'progress') {\n      // Stay outside zone to allow users do what they want about change detection mechanism.\n      this.dragProgressSubject.next({ gutterNum, sizes });\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.stopDragging();\n  }\n}\n","import { Directive, Input, ElementRef, Renderer2, OnInit, OnDestroy, NgZone } from '@angular/core';\n\nimport { SplitComponent } from '../component/split.component';\nimport { getInputPositiveNumber, getInputBoolean } from '../utils';\n\n@Directive({\n  selector: 'as-split-area, [as-split-area]',\n  exportAs: 'asSplitArea'\n})\nexport class SplitAreaDirective implements OnInit, OnDestroy {\n\n  private _order: number | null = null;\n\n  @Input() set order(v: number | null) {\n    this._order = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, true, false);\n  }\n\n  get order(): number | null {\n    return this._order;\n  }\n\n  ////\n\n  private _size: number | null = null;\n\n  @Input() set size(v: number | null) {\n    this._size = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get size(): number | null {\n    return this._size;\n  }\n\n  ////\n\n  private _minSize: number | null = null;\n\n  @Input() set minSize(v: number | null) {\n    this._minSize = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get minSize(): number | null {\n    return this._minSize;\n  }\n\n  ////\n\n  private _maxSize: number | null = null;\n\n  @Input() set maxSize(v: number | null) {\n    this._maxSize = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get maxSize(): number | null {\n    return this._maxSize;\n  }\n\n  ////\n\n  private _lockSize: boolean = false;\n\n  @Input() set lockSize(v: boolean) {\n    this._lockSize = getInputBoolean(v);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get lockSize(): boolean {\n    return this._lockSize;\n  }\n\n  ////\n\n  private _visible: boolean = true;\n\n  @Input() set visible(v: boolean) {\n    this._visible = getInputBoolean(v);\n\n    if (this._visible) {\n      this.split.showArea(this);\n      this.renderer.removeClass(this.elRef.nativeElement, 'as-hidden');\n    }\n    else {\n      this.split.hideArea(this);\n      this.renderer.addClass(this.elRef.nativeElement, 'as-hidden');\n    }\n  }\n\n  get visible(): boolean {\n    return this._visible;\n  }\n\n  ////\n\n  private transitionListener?: Function;\n  private readonly lockListeners: Array<Function> = [];\n\n  constructor(private ngZone: NgZone,\n    public elRef: ElementRef,\n    private renderer: Renderer2,\n    private split: SplitComponent) {\n    this.renderer.addClass(this.elRef.nativeElement, 'as-split-area');\n  }\n\n  public ngOnInit(): void {\n    this.split.addArea(this);\n\n    this.ngZone.runOutsideAngular(() => {\n      this.transitionListener = this.renderer.listen(this.elRef.nativeElement, 'transitionend', (event: TransitionEvent) => {\n        // Limit only flex-basis transition to trigger the event\n        if (event.propertyName === 'flex-basis') {\n          this.split.notify('transitionEnd', -1);\n        }\n      });\n    });\n  }\n\n  public setStyleOrder(value: number): void {\n    this.renderer.setStyle(this.elRef.nativeElement, 'order', value);\n  }\n\n  public setStyleFlex(grow: number, shrink: number, basis: string, isMin: boolean, isMax: boolean): void {\n    // Need 3 separated properties to work on IE11 (https://github.com/angular/flex-layout/issues/323)\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-grow', grow);\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-shrink', shrink);\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', basis);\n\n    if (isMin === true) this.renderer.addClass(this.elRef.nativeElement, 'as-min');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-min');\n\n    if (isMax === true) this.renderer.addClass(this.elRef.nativeElement, 'as-max');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-max');\n  }\n\n  public lockEvents(): void {\n    this.ngZone.runOutsideAngular(() => {\n      this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'selectstart', (e: Event) => false));\n      this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'dragstart', (e: Event) => false));\n    });\n  }\n\n  public unlockEvents(): void {\n    while (this.lockListeners.length > 0) {\n      const fct = this.lockListeners.pop();\n      if (fct) fct();\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.unlockEvents();\n\n    if (this.transitionListener) {\n      this.transitionListener();\n    }\n\n    this.split.removeArea(this);\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SplitComponent } from './component/split.component';\nimport { SplitAreaDirective } from './directive/splitArea.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    SplitComponent,\n    SplitAreaDirective,\n  ],\n  exports: [\n    SplitComponent,\n    SplitAreaDirective,\n  ]\n})\nexport class AngularSplitModule {\n\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: AngularSplitModule,\n      providers: []\n    };\n  }\n\n  public static forChild(): ModuleWithProviders {\n    return {\n      ngModule: AngularSplitModule,\n      providers: []\n    };\n  }\n\n}\n"]}